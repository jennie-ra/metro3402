var OpenViewability=(()=>{var yi,Te,xi,Mi,Si,Di,Ze,Ui,ei,Bi,ze,ge,ii,c,Ce,ye,Ri,Ue,ri,ct,ni,Be,si,l,Re,be,Qe,se,Ve,oi,ai,Oi,xe,Me,li,ui,di,Fi,hi,bi,me,mi,ci,pi,fi,ce,vi,Ei,Se,Oe,qi,Pe,Hi,Ai,De,Ne,Fe,le,Wi,_e,ki,Li,Ii,Le,wi,Ee,qe,ji,Yi,Gi,Xi,$i,Ji,Ki,Zi,zi,et,it,tt,rt,nt,pe,He,Vi,st,ot,at,lt,Ie,_i,Ti,ht,yi=Object.create,Te=Object.defineProperty,xi=Object.defineProperties,Mi=Object.getOwnPropertyDescriptor,Si=Object.getOwnPropertyDescriptors,Di=Object.getOwnPropertyNames,Ze=Object.getOwnPropertySymbols,Ui=Object.getPrototypeOf,ei={}.hasOwnProperty,Bi={}.propertyIsEnumerable,ze=(i,t,e)=>t in i?Te(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e,ge=(i,t)=>{for(var e in t=t||{})ei.call(t,e)&&ze(i,e,t[e])
if(Ze)for(e of Ze(t))Bi.call(t,e)&&ze(i,e,t[e])
return i},ii=(i,t)=>xi(i,Si(t)),c=(i,t)=>()=>t=i?i(i=0):t,Ce=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),ye=(i,t)=>{for(var e in t)Te(i,e,{get:t[e],enumerable:!0})},Ri=(t,e,s,n)=>{if(e&&'object'==typeof e||'function'==typeof e)for(let i of Di(e))ei.call(t,i)||i===s||Te(t,i,{get:()=>e[i],enumerable:!(n=Mi(e,i))||n.enumerable})
return t},Ue=(i,t,e)=>(e=null!=i?yi(Ui(i)):{},Ri(!t&&i&&i.__esModule?e:Te(e,'default',{value:i,enumerable:!0}),i)),ri=Ce((i,t)=>{t.exports=function(i,t,e){if('function'==typeof[].find)return i.find(t,e)
e=e||this
var s,n=i.length
if('function'!=typeof t)throw new TypeError(t+' is not a function')
for(s=0;s<n;s++)if(t.call(e,i[s],s,i))return i[s]}}),ni=c(()=>{ct=Ue(ri())}),Be={}
return ye(Be,{default:()=>l}),Re=c(()=>{var i;(i=si||{}).MEASURING='measuring',i.STOP='stop',i.INVIEW_CHANGE='inview_change',i.VIEWABLE='viewable',i.AUDIBLE='audible',i.AUDIBLE_AND_VISIBLE='audible_and_visible',i.UNMEASUREABLE='unmeasureable',i.MEASUREABLE='measureable',i.INVIEW='inview',i.OUTVIEW='outview',i.IS_AUDIBLE='is_audible',i.IS_INAUDIBLE='is_inaudible',i.FIRST_QUARTILE='first_quartile',i.MIDPOINT='midpoint',i.THIRD_QUARTILE='third_quartile',i.COMPLETE='complete',i.FIRST_QUARTILE_VISIBLE='first_quartile_visible',i.MIDPOINT_VISIBLE='midpoint_visible',i.THIRD_QUARTILE_VISIBLE='third_quartile_visible',i.COMPLETE_VISIBLE='complete_visible',i.FIRST_QUARTILE_AUDIBLE='first_quartile_audible',i.MIDPOINT_AUDIBLE='midpoint_audible',i.THIRD_QUARTILE_AUDIBLE='third_quartile_audible',i.COMPLETE_AUDIBLE='complete_audible',i.FIRST_QUARTILE_AUDIBLE_AND_VISIBLE='first_quartile_audible_and_visible',i.MIDPOINT_AUDIBLE_AND_VISIBLE='midpoint_audible_and_visible',i.THIRD_QUARTILE_AUDIBLE_AND_VISIBLE='third_quartile_audible_and_visible',i.COMPLETE_AUDIBLE_AND_VISIBLE='complete_audible_and_visible',l=si=i}),Qe=c(()=>{be=class{constructor(i){this.listeners=[],this.completed=!1,this.timer=null,this.duration=i,this.listeners=[],this.completed=!1}timerComplete(){this.completed=!0,this.listeners.forEach(i=>i())}elapsed(i){'function'==typeof i&&this.listeners.push(i)}start(){this.endTimer(),this.timer=setTimeout(this.timerComplete.bind(this),this.duration)}stop(){this.endTimer()}endTimer(){this.timer&&(clearTimeout(this.timer),this.listeners.length=0)}dispose(){this.endTimer()}}}),Ve=c(()=>{se=class{constructor(i){this.listeners={inView:[],outView:[],inViewChange:[],audible:[],inaudible:[],firstQuartile:[],midpoint:[],thirdQuartile:[],complete:[]},this.percentViewable=0}onInView(i){return this.addCallback(i,'inView')}onInViewChange(i){return this.addCallback(i,'inViewChange')}onOutView(i){return this.addCallback(i,'outView')}onAudible(i){return this.addCallback(i,'audible')}onInaudible(i){return this.addCallback(i,'inaudible')}onFirstQuartile(i){return this.addCallback(i,'firstQuartile')}onMidpoint(i){return this.addCallback(i,'midpoint')}onThirdQuartile(i){return this.addCallback(i,'thirdQuartile')}onComplete(i){return this.addCallback(i,'complete')}addCallback(i,t){if('function'==typeof i&&this.listeners[t])this.listeners[t].push(i)
else if('function'!=typeof i)throw'callback must be function'
return this}get unmeasureable(){return!1}get viewable(){return!1}get audible(){return!1}get techniqueName(){return'Technique'}}}),Me=c(()=>{Ve(),oi=e=>'function'==typeof e&&Object.getOwnPropertyNames(se).reduce((i,t)=>i&&typeof e[t]==typeof se[t],!0),ai=i=>i&&!!~(''+i).indexOf('Element'),Oi=({inViewThreshold:i,timeInView:t})=>{let e=!1,s=[]
return'number'==typeof i&&i<=1||(e=!0,s.push('inViewThreshold must be a number equal to or less than 1')),'number'==typeof t&&0<=t||(e=!0,s.push('timeInView must be a number greater to or equal 0')),{invalid:e,reasons:s.join(' | ')}},xe=({autostart:i,techniques:t,criteria:e})=>{let s=!1,n=[]
'boolean'!=typeof i&&(s=!0,n.push('autostart must be boolean')),Array.isArray(t)&&0!==t.length||(s=!0,n.push('techniques must be an array containing at least one measurement technique'))
i=Oi(e)
return i.invalid&&(s=!0,n.push(i.reasons)),{invalid:s,reasons:n.join(' | ')}}}),li=c(()=>{}),ui=c(()=>{li()}),bi=c(()=>{ui(),di=(f,i)=>{if(f){let i=window,t,e=0,s=0,n=0,r=0,l=0,h=performance.now(),o=document.documentElement.scrollWidth,u=document.documentElement.scrollHeight,a='',c=-1,d=-1
for(;t!==window.top&&e<1e3;)try{var b
i.frameElement&&(b=i.frameElement.getBoundingClientRect(),s+=b.left,n+=b.top,a=i.frameElement.getAttribute('name')||i.frameElement.id||a),t=i.parent,h=Math.max(h,t.performance.now()),o=Math.max(o,t.document.documentElement.scrollWidth),u=Math.max(u,t.document.documentElement.scrollHeight),c=Math.max(c,t.innerWidth),d=Math.max(d,t.innerHeight),r+=t.scrollX,l+=t.scrollY,i=t,e++}catch(i){o=-1,u=-1,c=-1,d=-1,h=-1,s=-1,n=-1
break}return{adSlotName:a,viewportWidth:c,viewportHeight:d,screenWidth:window.screen.width||-1,screenHeight:window.screen.height||-1,pageWidth:o,pageHeight:u,elementWidth:f.clientWidth||-1,elementHeight:f.clientHeight||-1,elementX:s+r,elementY:n+l,viewportX:r,viewportY:l,timeSincePageLoad:h,iframeContext:hi(),focus:Fi()}}},Fi=()=>!0!==document.hidden&&('cross domain iframe'===hi()||!window.document.hasFocus||window.top.document.hasFocus()),hi=()=>{try{if(window.top===window)return'on page'
let i=window
for(;i.parent!==i;){if(i.parent.document.domain!==i.document.domain)return'cross domain iframe'
i=i.parent}return'same domain iframe'}catch(i){return'cross domain iframe'}}}),mi=c(()=>{_e(),Me(),Ve(),bi(),me=class extends se{constructor({element:i,criteria:t=le.criteria}={}){super({element:i,criteria:t}),void 0!==t&&i&&(this.element=i,this.criteria=t,this.inView=!1,this.started=!1,this.notificationLevels=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],!~this.notificationLevels.indexOf(this.criteria.inViewThreshold))&&this.notificationLevels.push(this.criteria.inViewThreshold)}start(){this.observer=new IntersectionObserver(this.viewableChange.bind(this),{threshold:this.notificationLevels}),this.observer.observe(this.element)}dispose(){this.observer&&(this.observer.unobserve(this.element),this.observer.disconnect())}getEnvironment(){return di(this.element,this.rootBounds)}viewableChange(i){i&&i.length&&void 0!==i[0].intersectionRatio&&(this.rootBounds=i[0].rootBounds,this.percentViewable=i[0].intersectionRatio,this.percentViewable<this.criteria.inViewThreshold&&this.started&&this.inView&&(this.inView=!1,this.listeners.outView.forEach(i=>i())),this.percentViewable<this.criteria.inViewThreshold||this.inView||(this.started=!0,this.inView=!0,this.listeners.inView.forEach(i=>i())),this.listeners.inViewChange.forEach(i=>i()))}get unmeasureable(){return!this.element||!window.IntersectionObserver||this.usesPolyfill||!ai(this.element)}get viewable(){return this.inView}get techniqueName(){return'IntersectionObserver'}get usesPolyfill(){return'number'==typeof IntersectionObserver.prototype.THROTTLE_TIMEOUT}}}),ci=c(()=>{mi()}),pi=Ce((exports,module)=>{((s,i,n)=>{var t,r
if('object'==typeof n&&'string'!=typeof n.nodeName)i(s,n)
else{let e=function(i){for(var t in i)i.hasOwnProperty(t)&&(i[t]=e(i[t]))
return Object.freeze(i)}
for(r in e,t=['1.5.6-iab144'],i(s,n={}),n)n.hasOwnProperty(r)&&(null==Object.getOwnPropertyDescriptor(s,r)&&Object.defineProperty(s,r,{value:{}}),t.forEach(function(i){var t
null==Object.getOwnPropertyDescriptor(s[r],i)&&(t=e(n[r]),Object.defineProperty(s[r],i,{get:function(){return t},enumerable:!0}))}))}})('undefined'==typeof global?exports:global,function(omidGlobal,omidExports){function g(i){var t=0
return function(){return t<i.length?{done:!1,value:i[t++]}:{done:!0}}}function k(i){var t='undefined'!=typeof Symbol&&Symbol.iterator&&i[Symbol.iterator]
if(t)return t.call(i)
if('number'==typeof i.length)return{next:g(i)}
throw Error(i+' is not an iterable or ArrayLike')}function n(i){if(!(i instanceof Array)){i=k(i)
for(var t,e=[];!(t=i.next()).done;)e.push(t.value)
i=e}return i}function r(i){var t,e
for(i=['object'==typeof globalThis&&globalThis,i,'object'==typeof window&&window,'object'==typeof self&&self,'object'==typeof global&&global],t=0;t<i.length;++t)if((e=i[t])&&e.Math==Math)return e
throw Error('Cannot find global object')}function u(i,e){var s,n,r
if(e)i:{for(s=t,i=i.split('.'),n=0;n<i.length-1;n++){if(!((r=i[n])in s))break i
s=s[r]}(e=e(n=s[i=i[i.length-1]]))!=n&&null!=e&&q(s,i,{configurable:!0,writable:!0,value:e})}}function A(i,t){var e,s
if(i.prototype=p(t.prototype),i.prototype.constructor=i,z)z(i,t)
else for(e in t)'prototype'!=e&&(Object.defineProperties?(s=Object.getOwnPropertyDescriptor(t,e))&&Object.defineProperty(i,e,s):i[e]=t[e])
i.C=t.prototype}function B(){for(var i=+(''+this),t=[],e=i;e<arguments.length;e++)t[e-i]=arguments[e]
return t}function C(i,t,e,s){this.h=i,this.method=t,this.version=e,this.g=s}function D(i){return i&&void 0!==i.omid_message_guid&&void 0!==i.omid_message_method&&void 0!==i.omid_message_version&&'string'==typeof i.omid_message_guid&&'string'==typeof i.omid_message_method&&'string'==typeof i.omid_message_version&&(void 0===i.omid_message_args||void 0!==i.omid_message_args)}function E(i){return new C(i.omid_message_guid,i.omid_message_method,i.omid_message_version,i.omid_message_args)}function F(i){var t={}
return t.omid_message_guid=i.h,t.omid_message_method=i.method,t.omid_message_version=i.version,void 0!==i.g&&(t.omid_message_args=i.g),t}function G(i){this.h=i}function H(){var i=B.apply(0,arguments)
ba(function(){throw new(function(){}.bind.apply(Error,[null,'Could not complete the test successfully - '].concat(n(i))))},function(){})}function ba(i,t){'undefined'!=typeof jasmine&&jasmine?i():console&&console.error&&t()}function I(i,t){if(!t)throw Error('Value for '+i+' is undefined, null or blank.')
if('string'!=typeof t&&!(t instanceof String))throw Error('Value for '+i+' is not a string.')
if(!t.trim())throw Error('Value for '+i+' is empty string.')}function J(i){if(!i)throw Error('functionToExecute must not be truthy.')}function K(i,t){if(null==t)throw Error(i+' must not be null or undefined.')
if('number'!=typeof t||isNaN(t))throw Error('Value for '+i+' is not a number')
if(t<0)throw Error(i+' must be a positive number.')}function L(){return 1}function M(){for(var i,t,e=['1','5','0'],s=['1','0','3'],n=0;n<3&&(t=parseInt(s[n],10))>=(i=parseInt(e[n],10));n++)if(i<t)return
return 1}function ca(){return'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(i){var t=16*Math.random()|0
return('y'===i?3&t|8:t).toString(16)})}function N(i,t){try{return i.frames&&!!i.frames[t]}catch(i){return!1}}function da(t){return['omid_v1_present','omid_v1_present_web','omid_v1_present_app'].some(function(i){return N(t,i)})}function O(i){for(var t=k(Object.values(aa)),e=t.next();!e.done;e=t.next())if(N(i,{app:'omid_v1_present_app',web:'omid_v1_present_web'}[e=e.value]))return e
return null}function ea(i,t){return i&&(i[t]||(i[t]={}))}function Q(i){return null!=i&&void 0!==i.top&&null!=i.top}function fa(i){if(i!==P)try{return void 0===i.location.hostname}catch(i){return 1}}function R(){var i
return Q(i='undefined'!=typeof window&&window?window:void 0)?i:P}function S(i){this.h=i,this.handleExportedMessage=S.prototype.l.bind(this)}function T(i,t){this.h=t=void 0===t?P:t
var e=this
i.addEventListener('message',function(i){var t
'object'==typeof i.data&&D(t=i.data)&&i.source&&e.g&&e.g(E(t),i.source)})}function U(i,t){return t.reduce(function(i,t){return i&&i[t]},i)}function V(i){var t,e,s,n,r,l,h
if(!i){t=void 0===t?da:t,e=[],(s=U(i=R(),ia))&&e.push(s),e.push(Q(i)?i.top:P)
i:{for(n=(e=k(e)).next();!n.done;n=e.next()){t:{if(s=i,r=t,!fa(n=n.value))try{if(l=U(n,ha)){h=new S(l)
break t}}catch(i){}h=r(n)?new T(s,n):null}if(s=h){i=s
break i}}i=null}}(this.g=i)?this.g.g=this.s.bind(this):(t=(t=P.omid3p)&&'function'==typeof t.registerSessionObserver&&'function'==typeof t.addEventListener?t:null)&&(this.i=t),this.u=this.v=0,this.l={},this.m=[],this.h=(t=P.omidVerificationProperties)?t.injectionId:void 0}function ja(e,i,t,s){function n(i){var t=e.m.indexOf(r)
t<0||e.m.splice(t,1),i&&i()}var r=P.document.createElement('img')
e.m.push(r),r.addEventListener('load',n.bind(e,t)),r.addEventListener('error',n.bind(e,s)),r.src=i}function ka(i,t,e){var s=P.document,n=s.body;(s=s.createElement('script')).onload=t,s.onerror=e,s.src=i,s.type='application/javascript',n.appendChild(s)}function la(a,b){try{eval(a)}catch(i){H('Error evaluating the JavaScript resource from "'+b+'".')}}function W(){return'function'==typeof P.setTimeout&&'function'==typeof P.clearTimeout}function X(){return'function'==typeof P.setInterval&&'function'==typeof P.clearInterval}var f,p,q,t,v,w,x,y,z,aa,P,ha,ia,Y,Z,p='function'==typeof Object.create?Object.create:function(i){function t(){}return t.prototype=i,new t},q='function'==typeof Object.defineProperties?Object.defineProperty:function(i,t,e){return i!=Array.prototype&&i!=Object.prototype&&(i[t]=e.value),i},t=r(this)
if('function'==typeof Object.setPrototypeOf)v=Object.setPrototypeOf
else{i:{x={a:!0},y={}
try{y.__proto__=x,w=y.a
break i}catch(i){}w=!1}v=w?function(i,t){if(i.__proto__=t,i.__proto__!==t)throw new TypeError(i+' is not extensible')
return i}:null}z=v,u('Object.values',function(i){return i||function(i){var t,e=[]
for(t in i)!{}.hasOwnProperty.call(i,t)||e.push(i[t])
return e}}),aa={A:'app',B:'web'},P=(()=>{if(void 0!==omidGlobal&&omidGlobal)return omidGlobal
if('undefined'!=typeof global&&global)return global
if('undefined'!=typeof window&&window)return window
if('undefined'!=typeof globalThis&&globalThis)return globalThis
var i=Function('','return this')()
if(i)return i
throw Error('Could not determine global object context.')})(),A(S,G),S.prototype.i=function(i){var t=this.h
if(!t)throw Error('Message destination must be defined at construction time or when sending the message.')
t.handleExportedMessage(F(i),this)},S.prototype.l=function(i,t){D(i)&&this.g&&this.g(E(i),t)},A(T,G),T.prototype.i=function(i){var t=this.h
if(!t)throw Error('Message destination must be defined at construction time or when sending the message.')
t.postMessage(F(i),'*')},ha=['omid','v1_VerificationServiceCommunication'],ia=['omidVerificationProperties','serviceWindow'],f=V.prototype,f.isSupported=function(){return!('web'===this.getEnvironment()&&!this.h||!this.g&&!this.i)},f.getEnvironment=function(){var i=R()
return this.injectionSource()||O(i)||O(Q(i)?i.top:P)},f.injectionSource=function(){var i=P.omidVerificationProperties
if(i&&i.injectionSource)return i.injectionSource},f.registerSessionObserver=function(i,t){J(i),this.i?this.i.registerSessionObserver(i,t,this.h):this.j('addSessionListener',i,t,this.h)},f.addEventListener=function(i,t){I('eventType',i),J(t),this.i?this.i.addEventListener(i,t,this.h):this.j('addEventListener',t,i,this.h)},f.sendUrl=function(i,t,e){I('url',i),P.document&&P.document.createElement?ja(this,i,t,e):this.j('sendUrl',function(i){i&&t?t():!i&&e&&e()},i)},f.injectJavaScriptResource=function(e,s,n){I('url',e),P.document?ka(e,s,n):this.j('injectJavaScriptResource',function(i,t){(i?(la(t,e),s):(H('Service failed to load JavaScript resource.'),n))()},e)},f.setTimeout=function(i,t){var e
return J(i),K('timeInMillis',t),W()?P.setTimeout(i,t):(e=this.v++,this.j('setTimeout',i,e,t),e)},f.clearTimeout=function(i){K('timeoutId',i),W()?P.clearTimeout(i):this.o('clearTimeout',i)},f.setInterval=function(i,t){var e
return J(i),K('timeInMillis',t),X()?P.setInterval(i,t):(e=this.u++,this.j('setInterval',i,e,t),e)},f.clearInterval=function(i){K('intervalId',i),X()?P.clearInterval(i):this.o('clearInterval',i)},f.s=function(i){var t,e=i.method,s=i.h
i=i.g,'response'===e&&this.l[s]&&(t=L()&&M()?i||[]:i&&'string'==typeof i?JSON.parse(i):[],this.l[s].apply(this,t)),'error'===e&&window.console&&H(i)},f.o=function(i){this.j.apply(this,[i,null].concat(n(B.apply(1,arguments))))},f.j=function(i,t){var e,s=B.apply(2,arguments)
this.g&&(e=ca(),t&&(this.l[e]=t),t='VerificationService.'+i,s=L()&&M()?s:JSON.stringify(s),this.g.i(new C(e,t,'1.5.0-dev',s)))},Y=void 0,(Y=void 0===Y?void 0===omidExports?null:omidExports:Y)&&(Z=['OmidVerificationClient'],Z.slice(0,Z.length-1).reduce(ea,Y)[Z[Z.length-1]]=V)},void 0===exports?void 0:exports)}),vi=c(()=>{fi=Ue(pi()),_e(),Ve(),ce=class extends se{constructor({criteria:i=le.criteria}={}){super({criteria:i}),this.omidClient=new fi.OmidVerificationClient,this.omidClient.isSupported()&&(this.criteria=i,this.inView=!1,this.isAudible=!1,this.started=!1,this.notificationLevels=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],~this.notificationLevels.indexOf(this.criteria.inViewThreshold)||this.notificationLevels.push(this.criteria.inViewThreshold),this.omidClient.addEventListener('geometryChange',this.geometryChange.bind(this)))}start(){this.omidClient.addEventListener('start',this.videoStart.bind(this)),this.omidClient.addEventListener('firstQuartile',this.firstQuartile.bind(this)),this.omidClient.addEventListener('midpoint',this.midpoint.bind(this)),this.omidClient.addEventListener('thirdQuartile',this.thirdQuartile.bind(this)),this.omidClient.addEventListener('complete',this.complete.bind(this)),this.omidClient.addEventListener('volumeChange',this.volumeChange.bind(this))}dispose(){}getEnvironment(){return 0===this.viewportWidth||0===this.viewportHeight?null:{viewportWidth:this.viewportWidth,viewportHeight:this.viewportHeight,screenWidth:this.screenWidth,screenHeight:this.screenHeight,elementWidth:this.elementWidth,elementHeight:this.elementHeight,elementX:this.elementX,elementY:this.elementY,viewportX:this.viewportX,viewportY:this.viewportY}}videoStart(i){this.isAudible=0<i.data.videoPlayerVolume&&('number'!=typeof i.data.deviceVolume||0<i.data.deviceVolume)}firstQuartile(i){this.listeners.firstQuartile.forEach(i=>i())}midpoint(i){this.listeners.midpoint.forEach(i=>i())}thirdQuartile(i){this.listeners.thirdQuartile.forEach(i=>i())}complete(i){this.listeners.complete.forEach(i=>i())}volumeChange(i){var t
void 0!==(null==(t=null==i?void 0:i.data)?void 0:t.videoPlayerVolume)&&((t=0<i.data.videoPlayerVolume&&('number'!=typeof i.data.deviceVolume||0<i.data.deviceVolume))&&!this.isAudible&&(this.isAudible=!0,this.listeners.audible.forEach(i=>i())),!t)&&this.isAudible&&(this.isAudible=!1,this.listeners.inaudible.forEach(i=>i()))}geometryChange(i){var t
this.viewportWidth=null!=(t=null==(t=null==(t=i.data)?void 0:t.viewport)?void 0:t.width)?t:this.viewportWidth,this.viewportHeight=null!=(t=null==(t=null==(t=i.data)?void 0:t.viewport)?void 0:t.height)?t:this.viewportHeight,this.screenWidth=null!=(t=null==(t=null==window?void 0:window.screen)?void 0:t.width)?t:this.screenWidth,this.screenHeight=null!=(t=null==(t=null==window?void 0:window.screen)?void 0:t.height)?t:this.screenHeight,this.elementWidth=null!=(t=null==(t=null==(t=null==(t=i.data)?void 0:t.adView)?void 0:t.geometry)?void 0:t.width)?t:this.elementWidth,this.elementHeight=null!=(t=null==(t=null==(t=null==(t=i.data)?void 0:t.adView)?void 0:t.geometry)?void 0:t.height)?t:this.elementHeight,this.elementX=null!=(t=null==(t=null==(t=null==(t=i.data)?void 0:t.adView)?void 0:t.geometry)?void 0:t.x)?t:this.elementX,this.elementY=null!=(t=null==(t=null==(t=null==(t=i.data)?void 0:t.adView)?void 0:t.geometry)?void 0:t.y)?t:this.elementY,void 0!==(null==(t=null==(t=null==i?void 0:i.data)?void 0:t.adView)?void 0:t.percentageInView)&&(this.percentViewable=i.data.adView.percentageInView/100,this.percentViewable<this.criteria.inViewThreshold&&this.started&&this.inView&&(this.inView=!1,this.listeners.outView.forEach(i=>i())),this.percentViewable<this.criteria.inViewThreshold||this.inView||(this.started=!0,this.inView=!0,this.listeners.inView.forEach(i=>i())),this.listeners.inViewChange.forEach(i=>i()))}get unmeasureable(){return!this.omidClient.isSupported()}get viewable(){return this.inView}get audible(){return this.isAudible}get techniqueName(){return'OpenMeasurement'}}}),Ei=c(()=>{vi()}),Se={},ye(Se,{IntersectionObserver:()=>me,OpenMeasurement:()=>ce,Technique:()=>se}),Oe=c(()=>{ci(),Ei(),Ve()}),Ai=c(()=>{qi={inViewThreshold:.5,timeInView:2e3},Pe={inViewThreshold:.5,timeInView:1e3},Hi=(i=.5,t=2e3,e=t)=>({inViewThreshold:i,timeInView:t,timeAudible:e})}),De={},ye(De,{MRC_DISPLAY:()=>Pe,MRC_VIDEO:()=>qi,customCriteria:()=>Hi}),Ne=c(()=>{Ai()}),Fe={},ye(Fe,{DEFAULT_STRATEGY:()=>le,StrategyFactory:()=>Wi}),_e=c(()=>{Me(),Oe(),Ne(),le={autostart:!0,techniques:[ce,me],criteria:Pe},Wi=(i=le.autostart,t=le.techniques,e=le.criteria)=>{i={autostart:i,techniques:t,criteria:e},t=xe(i)
if(t.invalid)throw t.reasons
return i}}),Ii=c(()=>{Li=ki=(t,e)=>{let s=null
return(...i)=>{window.clearTimeout(s),s=window.setTimeout(()=>{t(...i)},e)}}}),wi=c(()=>{Me(),Ii(),Qe(),Re(),_e(),Le=class{constructor(i,t={}){this.listeners=Object.keys(l).reduce((i,t)=>(i[l[t]]=[],i),{}),this.element=i,this.strategy=ge(ge({},le),t),this.viewableCriteriaMet=!1
i=xe(this.strategy)
if(i.invalid)throw i.reasons
this.technique=this.selectTechnique(this.strategy.techniques),this.technique&&this.addSubscriptions(this.technique)
let e=this.getAllEnvironmentDetails(this.technique)
!0===this.unmeasureable?setTimeout(()=>this.publish(l.UNMEASUREABLE,e),0):!1===this.unmeasureable&&setTimeout(()=>this.publish(l.MEASUREABLE,e),0),!this.unmeasureable&&this.strategy.autostart&&this.technique.start()}start(){this.technique.start()}dispose(){this.technique&&this.technique.dispose(),this.inViewTimer&&this.inViewTimer.dispose(),this.audibleTimer&&this.audibleTimer.dispose()}onViewableStart(i){return this.addCallback(i,l.MEASURING)}onViewableStop(i){return this.addCallback(i,l.STOP)}onViewableChange(i){return this.addCallback(i,l.INVIEW_CHANGE)}onViewableComplete(i){return this.addCallback(i,l.VIEWABLE),this.viewableCriteriaMet&&this.techniqueChange(l.VIEWABLE,this.technique),this}onAudibleComplete(i){return this.addCallback(i,l.AUDIBLE),this.audibleCriteriaMet&&this.techniqueChange(l.AUDIBLE,this.technique),this}onAudibleAndViewable(i){return this.addCallback(i,l.AUDIBLE_AND_VISIBLE),this.audibleCriteriaMet&&this.viewableCriteriaMet&&this.techniqueChange(l.AUDIBLE_AND_VISIBLE,this.technique),this}onFirstQuartile(i){return this.addCallback(i,l.FIRST_QUARTILE)}onFirstQuartileAudible(i){return this.addCallback(i,l.FIRST_QUARTILE_AUDIBLE)}onFirstQuartileVisible(i){return this.addCallback(i,l.FIRST_QUARTILE_VISIBLE)}onFirstQuartileAudibleAndVisible(i){return this.addCallback(i,l.FIRST_QUARTILE_AUDIBLE_AND_VISIBLE)}onMidpoint(i){return this.addCallback(i,l.MIDPOINT)}onMidpointAudible(i){return this.addCallback(i,l.MIDPOINT_AUDIBLE)}onMidpointVisible(i){return this.addCallback(i,l.MIDPOINT_VISIBLE)}onMidpointAudibleAndVisible(i){return this.addCallback(i,l.MIDPOINT_AUDIBLE_AND_VISIBLE)}onThirdQuartile(i){return this.addCallback(i,l.THIRD_QUARTILE)}onThirdQuartileAudible(i){return this.addCallback(i,l.THIRD_QUARTILE_AUDIBLE)}onThirdQuartileVisible(i){return this.addCallback(i,l.THIRD_QUARTILE_VISIBLE)}onThirdQuartileAudibleAndVisible(i){return this.addCallback(i,l.THIRD_QUARTILE_AUDIBLE_AND_VISIBLE)}onComplete(i){return this.addCallback(i,l.COMPLETE)}onCompleteAudible(i){return this.addCallback(i,l.COMPLETE_AUDIBLE)}onCompleteVisible(i){return this.addCallback(i,l.COMPLETE_VISIBLE)}onCompleteAudibleAndVisible(i){return this.addCallback(i,l.COMPLETE_AUDIBLE_AND_VISIBLE)}onUnmeasureable(i){return this.addCallback(i,l.UNMEASUREABLE),this.unmeasureable&&this.techniqueChange(l.UNMEASUREABLE),this}onMeasureable(i){return this.addCallback(i,l.MEASUREABLE),this.unmeasureable||this.techniqueChange(l.MEASUREABLE),this}withSignaller(i){return i.onViewable&&this.onViewableComplete(i.onViewable),i.onMeasureable&&this.onMeasureable(i.onMeasureable),i.onUnmeasureable&&this.onUnmeasureable(i.onUnmeasureable),i.onViewabilityChange&&this.onViewableChange(i.onViewabilityChange),i.onFirstQuartile&&this.onFirstQuartile(i.onFirstQuartile),i.onFirstQuartileAudible&&this.onFirstQuartileAudible(i.onFirstQuartileAudible),i.onFirstQuartileVisible&&this.onFirstQuartileVisible(i.onFirstQuartileVisible),i.onFirstQuartileAudibleAndVisible&&this.onFirstQuartileAudibleAndVisible(i.onFirstQuartileAudibleAndVisible),i.onMidpoint&&this.onMidpoint(i.onMidpoint),i.onMidpointAudible&&this.onMidpointAudible(i.onMidpointAudible),i.onMidpointVisible&&this.onMidpointVisible(i.onMidpointVisible),i.onMidpointAudibleAndVisible&&this.onMidpointAudibleAndVisible(i.onMidpointAudibleAndVisible),i.onThirdQuartile&&this.onThirdQuartile(i.onThirdQuartile),i.onThirdQuartileAudible&&this.onThirdQuartileAudible(i.onThirdQuartileAudible),i.onThirdQuartileVisible&&this.onThirdQuartileVisible(i.onThirdQuartileVisible),i.onThirdQuartileAudibleAndVisible&&this.onThirdQuartileAudibleAndVisible(i.onThirdQuartileAudibleAndVisible),i.onComplete&&this.onComplete(i.onComplete),i.onCompleteAudible&&this.onCompleteAudible(i.onCompleteAudible),i.onCompleteVisible&&this.onCompleteVisible(i.onCompleteVisible),i.onCompleteAudibleAndVisible&&this.onCompleteAudibleAndVisible(i.onCompleteAudibleAndVisible),this}get unmeasureable(){return!this.technique||this.technique.unmeasureable}selectTechnique(i){return i.filter(oi).map(i=>this.instantiateTechnique(i)).filter(i=>!i.unmeasureable)[0]}instantiateTechnique(i){return new i({element:this.element,criteria:this.strategy.criteria})}addSubscriptions(i){i&&(i.onInView(this.techniqueChange.bind(this,l.INVIEW,i)),i.onInViewChange(this.techniqueChange.bind(this,l.INVIEW_CHANGE,i)),i.onOutView(this.techniqueChange.bind(this,l.OUTVIEW,i)),i.onAudible(this.techniqueChange.bind(this,l.IS_AUDIBLE,i)),i.onInaudible(this.techniqueChange.bind(this,l.IS_INAUDIBLE,i)),i.onFirstQuartile(this.techniqueChange.bind(this,l.FIRST_QUARTILE,i)),i.onMidpoint(this.techniqueChange.bind(this,l.MIDPOINT,i)),i.onThirdQuartile(this.techniqueChange.bind(this,l.THIRD_QUARTILE,i)),i.onComplete(this.techniqueChange.bind(this,l.COMPLETE,i)))}techniqueChange(i,t=null){let e=[],s=this.getAllEnvironmentDetails(t)
switch(i){case l.INVIEW:this.viewableCriteriaMet||(this.inViewTimer=new be(this.strategy.criteria.timeInView),this.inViewTimer.elapsed(this.viewableTimerElapsed.bind(this,t)),this.inViewTimer.start(),e.push(l.MEASURING))
break
case l.IS_AUDIBLE:this.audibleCriteriaMet||(this.audibleTimer=new be(this.strategy.criteria.timeAudible||this.strategy.criteria.timeInView),this.audibleTimer.elapsed(this.audibleTimerElapsed.bind(this,t)),this.audibleTimer.start())
break
case l.INVIEW_CHANGE:e.push(l.INVIEW_CHANGE)
break
case l.VIEWABLE:this.viewableCriteriaMet||(this.viewableCriteriaMet=!0,e.push(l.VIEWABLE),this.audibleCriteriaMet&&e.push(l.AUDIBLE_AND_VISIBLE))
break
case l.AUDIBLE:this.audibleCriteriaMet||(this.audibleCriteriaMet=!0,e.push(l.AUDIBLE),this.viewableCriteriaMet&&e.push(l.AUDIBLE_AND_VISIBLE))
break
case l.OUTVIEW:this.viewableCriteriaMet||(this.inViewTimer&&(this.inViewTimer.stop(),delete this.inViewTimer),e.push(l.STOP))
break
case l.IS_INAUDIBLE:this.audibleCriteriaMet||this.audibleTimer&&(this.audibleTimer.stop(),delete this.audibleTimer)
break
case l.UNMEASUREABLE:e.push(l.UNMEASUREABLE)
break
case l.MEASUREABLE:e.push(l.MEASUREABLE)
break
case l.FIRST_QUARTILE:e.push(l.FIRST_QUARTILE),t.audible&&e.push(l.FIRST_QUARTILE_AUDIBLE),t.viewable&&e.push(l.FIRST_QUARTILE_VISIBLE),t.audible&&t.viewable&&e.push(l.FIRST_QUARTILE_AUDIBLE_AND_VISIBLE)
break
case l.MIDPOINT:e.push(l.MIDPOINT),t.audible&&e.push(l.MIDPOINT_AUDIBLE),t.viewable&&e.push(l.MIDPOINT_VISIBLE),t.audible&&t.viewable&&e.push(l.MIDPOINT_AUDIBLE_AND_VISIBLE)
break
case l.THIRD_QUARTILE:e.push(l.THIRD_QUARTILE),t.audible&&e.push(l.THIRD_QUARTILE_AUDIBLE),t.viewable&&e.push(l.THIRD_QUARTILE_VISIBLE),t.audible&&t.viewable&&e.push(l.THIRD_QUARTILE_AUDIBLE_AND_VISIBLE)
break
case l.COMPLETE:e.push(l.COMPLETE),t.audible&&e.push(l.COMPLETE_AUDIBLE),t.viewable&&e.push(l.COMPLETE_VISIBLE),t.audible&&t.viewable&&e.push(l.COMPLETE_AUDIBLE_AND_VISIBLE)}e.forEach(i=>this.publish(i,s))}publish(i,t){Array.isArray(this.listeners[i])&&this.listeners[i].forEach(i=>i(t))}viewableTimerElapsed(i){this.techniqueChange(l.VIEWABLE,i)}audibleTimerElapsed(i){this.techniqueChange(l.AUDIBLE,i)}addCallback(i,t){if(this.listeners[t]&&'function'==typeof i)this.listeners[t].push(Li(i,10))
else if('function'!=typeof i)throw'Callback must be a function'
return this}getAllEnvironmentDetails(i){return{environment:(null==i?void 0:i.getEnvironment())||{viewportWidth:-1,viewportHeight:-1,viewportX:-1,viewportY:-1,screenWidth:-1,screenHeight:-1,elementWidth:-1,elementHeight:-1,elementX:-1,elementY:-1},percentViewable:void 0===(null==i?void 0:i.percentViewable)?-1:i.percentViewable,technique:(null==i?void 0:i.techniqueName)||'',viewable:void 0!==(null==i?void 0:i.viewable)&&i.viewable,audible:void 0!==(null==i?void 0:i.audible)&&i.audible}}}}),qe=c(()=>{Ee=class{constructor(){}get signallerName(){return'Signaller'}}}),He=c(()=>{qe(),ji='_qc.creative',Yi='_qc.viewable',Gi='_qc.audible',Xi='_qc.audible_visible',$i='_qc.measureable',Ji='_qc.unmeasureable',Ki='_qc.first_quartile.visible',Zi='_qc.midpoint.visible',zi='_qc.third_quartile.visible',et='_qc.voc',it='_qc.first_quartile.audible_visible',tt='_qc.midpoint.audible_visible',rt='_qc.third_quartile.audible_visible',nt='_qc.avoc',pe=class extends Ee{constructor({creativeEventLabel:i=ji,viewableLabel:t=Yi,audibleLabel:e=Gi,audibleVisibleLabel:s=Xi,measureableLabel:n=$i,unmeasureableLabel:r=Ji,firstQuartileAudibleVisibleLabel:l=it,midpointAudibleVisibleLabel:h=tt,thirdQuartileAudibleVisibleLabel:o=rt,completeAudibleVisibleLabel:u=nt,firstQuartileVisibleLabel:a=Ki,midpointVisibleLabel:c=Zi,thirdQuartileVisibleLabel:d=zi,completeVisibleLabel:f=et,account:b,consentStringAmpersand:v,cacheBuster:m,rand:p,pixelData:w}){super(),this.creativeEventLabel=i,this.viewableLabel=t,this.audibleLabel=e,this.audibleVisibleLabel=s,this.measureableLabel=n,this.unmeasureableLabel=r,this.firstQuartileAudibleVisibleLabel=l,this.midpointAudibleVisibleLabel=h,this.thirdQuartileAudibleVisibleLabel=o,this.completeAudibleVisibleLabel=u,this.firstQuartileVisibleLabel=a,this.midpointVisibleLabel=c,this.thirdQuartileVisibleLabel=d,this.completeVisibleLabel=f,this.account=b,this.consentStringAmpersand=v,this.cacheBuster=m,this.rand=p,this.pixelData=w,this.onViewable=this.onViewable.bind(this),this.onAudible=this.onAudible.bind(this),this.onAudibleAndVisible=this.onAudibleAndVisible.bind(this),this.onMeasureable=this.onMeasureable.bind(this),this.onUnmeasureable=this.onUnmeasureable.bind(this),this.onFirstQuartileAudibleAndVisible=this.onFirstQuartileAudibleAndVisible.bind(this),this.onMidpointAudibleAndVisible=this.onMidpointAudibleAndVisible.bind(this),this.onThirdQuartileAudibleAndVisible=this.onThirdQuartileAudibleAndVisible.bind(this),this.onCompleteAudibleAndVisible=this.onCompleteAudibleAndVisible.bind(this),this.onFirstQuartileVisible=this.onFirstQuartileVisible.bind(this),this.onMidpointVisible=this.onMidpointVisible.bind(this),this.onThirdQuartileVisible=this.onThirdQuartileVisible.bind(this),this.onCompleteVisible=this.onCompleteVisible.bind(this)}onViewable(i){this.fireRequest(this.viewableLabel,i)}onAudible(){this.fireRequest(this.audibleLabel)}onAudibleAndVisible(){this.fireRequest(this.audibleVisibleLabel)}onMeasureable(i){this.fireRequest(this.measureableLabel,i)}onUnmeasureable(i){this.fireRequest(this.unmeasureableLabel,i)}onFirstQuartileVisible(){this.fireRequest(this.firstQuartileVisibleLabel)}onMidpointVisible(){this.fireRequest(this.midpointVisibleLabel)}onThirdQuartileVisible(){this.fireRequest(this.thirdQuartileVisibleLabel)}onCompleteVisible(){this.fireRequest(this.completeVisibleLabel)}onFirstQuartileAudibleAndVisible(){this.fireRequest(this.firstQuartileAudibleVisibleLabel)}onMidpointAudibleAndVisible(){this.fireRequest(this.midpointAudibleVisibleLabel)}onThirdQuartileAudibleAndVisible(){this.fireRequest(this.thirdQuartileAudibleVisibleLabel)}onCompleteAudibleAndVisible(){this.fireRequest(this.completeAudibleVisibleLabel)}fireRequest(i,t){let e,s,n,r,l,h,o,u,a,c,d,f,b=new Image,v=`https://pixel.quantcount.com/pixel/${this.account}.gif?${this.consentStringAmpersand}&`,m=new URLSearchParams
if(m.set('media','ad'),m.set('r',this.cacheBuster),m.set('labels',this.creativeEventLabel+','+i),m.set('rtbdata2',this.pixelData),t&&'object'==typeof t){var p,w,g={vw:null==(e=t.environment)?void 0:e.viewportWidth,vh:null==(s=t.environment)?void 0:s.viewportHeight,vx:null==(n=t.environment)?void 0:n.viewportX,vy:null==(r=t.environment)?void 0:r.viewportY,sr:`${null==(l=t.environment)?void 0:l.screenWidth}x`+(null==(h=t.environment)?void 0:h.screenHeight),pw:null==(o=t.environment)?void 0:o.pageWidth,ph:null==(u=t.environment)?void 0:u.pageHeight,ex:null==(a=t.environment)?void 0:a.elementX,ey:null==(c=t.environment)?void 0:c.elementY,tpl:null==(d=t.environment)?void 0:d.timeSincePageLoad,asn:null==(f=t.environment)?void 0:f.adSlotName}
for(p in g)!{}.hasOwnProperty.call(g,p)||null==(w=g[p])||m.set(p,''+w)}b.src=v+m,b.onload=function(){b=void 0}}}}),Vi=Ce((i,t)=>{ni(),Re(),Qe(),_e(),wi(),Ne(),Oe(),He()
var e=class{constructor(){this.executors=[]}measureElement(i,t){i=new Le(i,t)
return this.executors.push(i),i}dispose(){this.executors.forEach(i=>i.dispose())}}
e.ViewabilityCriteria=De,e.MeasurementExecutor=Le,e.MeasurementTechniques=Se,e.Timer=be,e.Strategies=Fe,e.Events=Be,e.PixelServerSignaller=pe,t.exports=e}),_i=c(()=>{qe(),st='Viewable',ot='Measureable',at='Unmeasureable',lt='ViewabilityChange',Ie=class extends Ee{constructor(i=st,t=ot,e=at,s=lt){super(),this.inViewLabel=i,this.measureableLabel=t,this.unmeasureableLabel=e,this.viewabilityChangeLabel=s,this.onViewable=this.onViewable.bind(this),this.onMeasureable=this.onMeasureable.bind(this),this.onUnmeasureable=this.onUnmeasureable.bind(this),this.onViewabilityChange=this.onViewabilityChange.bind(this)}onViewable(){this.fireRequest(this.inViewLabel)}onMeasureable(i){this.fireRequest(this.measureableLabel,i)}onUnmeasureable(i){this.fireRequest(this.unmeasureableLabel,i)}onViewabilityChange(i){this.fireRequest(this.viewabilityChangeLabel,i)}fireRequest(i,t={}){t=ii(ge({},t),{product:'OpenViewability',label:i})
window.top.postMessage(t,'*')}}}),Ti=c(()=>{_i(),He()}),ht=Ce((i,t)=>{var e,s,n=Ue(Vi())
Ti(),e=new n.default,s=document.querySelector('.qc-ad'),e.measureElement(s).withSignaller(new pe({account:'p-1RYxePXT9bCS2',consentStringAmpersand:'',cacheBuster:'${CACHEBUSTER}',rand:'904848702',pixelData:'EBc6GGh0dHBzOi8vd3d3LnJhd3BpeGVsLmNvbVokSzlYSlBsUEx0SDF6M01jcVZjcjBKM19WMkhGMi1ILXc2cFE9gAHCtcTQDLoBEzM5MDA5NDQwODA3Nzc0NTY4MDjAAdCGgAHIAcXD_--vM9oBJGZjN2VlMTczLTc1ZmItNDk1MC05NWJmLTQyYzM3YjNiM2YxY7ACDsgCANACzuGG-_if98ypAegCtgLyAg8Iw68NEJ7frZv358ietgHyAg4ItgIQ95me2e_M8ofUAfgCAIoDBDQxOTGSAwhzbWFydF9hZJgDAKgDALIDBNPWCI-6AxIJJ0xtwx2RMWERyPsJ27YVHoDCAxIJvEM9iUdUwKkRm6W3QDd3157IA-GAgIMB2AO-yruvA-IDD3AtMVJZeGVQWFQ5YkNTMuoDBgisAhD6AfIDBTIxMzcw-AMAgASYNIoEAjc3kgQMOTA0MTE4NTc4Nzg2mgQSCYJP9fOh25-mEU4C1OkKf_64ogQSCSdMbcMdkTFhEcj7Cdu2FR6AqgQSCSdMbcMdkTFhEcj7Cdu2FR6AuATQBdAECPIEAktSgAUBigUqMjBjZmQ0YTAwM2MyYzMwNzY5MjAwZTA2OGZjZDhmNjBlMTY2YjBiOTNmkAUBmgUVIM_UoAPCwwdpIA4Gj82PYOFmsLk_ogUkSzlYSlBsUEx0SDF6M01jcVZjcjBKM19WMkhGMi1ILXc2cFE9uAUAwAXCtcTQDMgFx5aqBNIFBggEEAEYAugFBpoGFAoSCYJP9fOh25-mEU4C1OkKf_64oAYAtQYftqI5ugZLCgJLUhICMjgYwoMZIgtzYW5nb2stZG9uZyoFMjEzNzA6GXNrJTIwYnJvYWRiYW5kJTIwY28lMjBsdGRaDnNrJTIwYnJvYWRiYW5kyQY8CADFeRouD9AGONgGOOIGP19mcC5ldmVudC5DQyBQYWlkIENvbnZlcnNpb24sX2ZwLmV2ZW50LkNDIFRyaWFsIENvbnZlcnNpb24sX29yX-oGEWh0dHBzOi8vYWRvYmUuY29t8QYEEADFeRouD4AHAIoHEgm8Qz2JR1TAqRGbpbdAN3fXng'})).withSignaller(new Ie).start(),t.exports=n.default}),ht()})()
